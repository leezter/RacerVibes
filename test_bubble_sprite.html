<!DOCTYPE html>
<html>
<head>
    <title>Bubble Car Sprite Test</title>
    <style>
        body { 
            margin: 20px; 
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
        }
        .container {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
        }
        .test-section {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
        }
        canvas { 
            border: 2px solid #444;
            background: #333;
            display: block;
            margin: 10px 0;
        }
        h2 { color: #4fc3f7; }
        .info { 
            background: #333;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
        }
        .before { border-color: #f44336; }
        .after { border-color: #4caf50; }
    </style>
</head>
<body>
    <h1>ü´ß Bubble Car Sprite Extraction Test</h1>
    
    <div class="container">
        <div class="test-section">
            <h2>‚ùå Before Fix (Cut-off edges)</h2>
            <div class="info">sx: 522, sy: 122, sw: 460, sh: 460</div>
            <canvas id="beforeCanvas" class="before"></canvas>
        </div>
        
        <div class="test-section">
            <h2>‚úÖ After Fix (Complete car)</h2>
            <div class="info">sx: 586, sy: 46, sw: 299, sh: 630</div>
            <canvas id="afterCanvas" class="after"></canvas>
        </div>
    </div>
    
    <div class="test-section" style="margin-top: 20px;">
        <h2>üìä Comparison</h2>
        <div id="comparison" class="info">Loading...</div>
    </div>
    
    <script>
        const img = new Image();
        img.onload = function() {
            // Before fix
            const beforeCanvas = document.getElementById('beforeCanvas');
            const beforeMeta = { sx: 522, sy: 122, sw: 460, sh: 460 };
            beforeCanvas.width = beforeMeta.sw;
            beforeCanvas.height = beforeMeta.sh;
            const beforeCtx = beforeCanvas.getContext('2d');
            beforeCtx.drawImage(img, beforeMeta.sx, beforeMeta.sy, beforeMeta.sw, beforeMeta.sh, 0, 0, beforeMeta.sw, beforeMeta.sh);
            
            // After fix
            const afterCanvas = document.getElementById('afterCanvas');
            const afterMeta = { sx: 586, sy: 46, sw: 299, sh: 630 };
            afterCanvas.width = afterMeta.sw;
            afterCanvas.height = afterMeta.sh;
            const afterCtx = afterCanvas.getContext('2d');
            afterCtx.drawImage(img, afterMeta.sx, afterMeta.sy, afterMeta.sw, afterMeta.sh, 0, 0, afterMeta.sw, afterMeta.sh);
            
            // Comparison info
            const aspectBefore = beforeMeta.sw / beforeMeta.sh;
            const aspectAfter = afterMeta.sw / afterMeta.sh;
            document.getElementById('comparison').innerHTML = `
                <strong>BEFORE FIX:</strong><br>
                ‚Ä¢ Dimensions: ${beforeMeta.sw}x${beforeMeta.sh} pixels<br>
                ‚Ä¢ Aspect Ratio: ${aspectBefore.toFixed(2)} (square-ish)<br>
                ‚Ä¢ Issue: Front and rear of car are cut off<br>
                <br>
                <strong>AFTER FIX:</strong><br>
                ‚Ä¢ Dimensions: ${afterMeta.sw}x${afterMeta.sh} pixels<br>
                ‚Ä¢ Aspect Ratio: ${aspectAfter.toFixed(2)} (taller than wide)<br>
                ‚Ä¢ Result: Complete car visible with no cut-off edges ‚úì<br>
                <br>
                The fix adjusts the sprite extraction to capture the full vehicle image.
            `;
        };
        img.src = 'assets/vehicles/Bubble.png';
    </script>
</body>
</html>
